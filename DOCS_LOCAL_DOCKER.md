# üê≥ –ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –ª–æ–∫–∞–ª—å–Ω–æ–º—É –∑–∞–ø—É—Å–∫—É (Docker)

–≠—Ç–æ "Zero-to-Hero" –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞ **BonaFide55** –Ω–∞ –≤–∞—à–µ–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ.
–í–∞–º –Ω–µ –Ω—É–∂–Ω–æ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å Python, Node.js –∏–ª–∏ Postgres –≤ —Å–∏—Å—Ç–µ–º—É. –í—Å—ë —Å–¥–µ–ª–∞–µ—Ç Docker.

---

## üê£ 1. –ß—Ç–æ –Ω–∞–º –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è (–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞)

–ü–µ—Ä–µ–¥ —Ç–µ–º –∫–∞–∫ –Ω–∞—á–∞—Ç—å, —É –≤–∞—Å –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ –≤—Å–µ–≥–æ –¥–≤–µ –≤–µ—â–∏:

1.  **Docker Desktop** ‚Äî —ç—Ç–æ "–≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π –¥–≤–∏–≥–∞—Ç–µ–ª—å", –∫–æ—Ç–æ—Ä—ã–π –∑–∞–ø—É—Å–∫–∞–µ—Ç –Ω–∞—à –ø—Ä–æ–µ–∫—Ç.
    *   [–°–∫–∞—á–∞—Ç—å –¥–ª—è Mac/Windows](https://www.docker.com/products/docker-desktop/)
    *   *–í–∞–∂–Ω–æ: –ó–∞–ø—É—Å—Ç–∏—Ç–µ –µ–≥–æ –ø–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏! –í —Ç—Ä–µ–µ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∑–Ω–∞—á–æ–∫ –∫–∏—Ç–∞.* üê≥
2.  **Git** ‚Äî —á—Ç–æ–±—ã —Å–∫–∞—á–∞—Ç—å —ç—Ç–æ—Ç –∫–æ–¥.
    *   [–°–∫–∞—á–∞—Ç—å Git](https://git-scm.com/downloads)

---

## ‚öôÔ∏è 2. –ü–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

–°–¥–µ–ª–∞–π—Ç–µ —ç—Ç–æ –æ–¥–∏–Ω —Ä–∞–∑, –∫–æ–≥–¥–∞ —Ç–æ–ª—å–∫–æ —Å–∫–∞—á–∞–ª–∏ –ø—Ä–æ–µ–∫—Ç.

### –®–∞–≥ 1: –°–∫–∞—á–∏–≤–∞–µ–º –ø—Ä–æ–µ–∫—Ç
–û—Ç–∫—Ä–æ–π—Ç–µ —Ç–µ—Ä–º–∏–Ω–∞–ª (–∏–ª–∏ –∫–æ–Ω—Å–æ–ª—å) –∏ –≤–≤–µ–¥–∏—Ç–µ:
```bash
git clone https://github.com/USERNAME/REPO_NAME.git bonafide
cd bonafide
```

### –®–∞–≥ 2: –°–æ–∑–¥–∞–µ–º —Ñ–∞–π–ª—ã –Ω–∞—Å—Ç—Ä–æ–µ–∫ (.env)
–ü—Ä–æ–µ–∫—Ç—É –Ω—É–∂–Ω—ã –ø–∞—Ä–æ–ª–∏ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏. –°–æ–∑–¥–∞–π—Ç–µ –¥–≤–∞ —Ñ–∞–π–ª–∞.

**1. –ë—ç–∫–µ–Ω–¥ (`backend/.env`)**
–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `backend/.env` –∏ –≤—Å—Ç–∞–≤—å—Ç–µ —Ç—É–¥–∞:
```dotenv
DEBUG=True
SECRET_KEY=dev_secret_key
# –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
POSTGRES_DB=bonafide_db
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres
POSTGRES_HOST=db
POSTGRES_PORT=5432
# Redis
CELERY_BROKER_URL=redis://redis:6379/0
CELERY_RESULT_BACKEND=redis://redis:6379/0
# –†–∞–∑—Ä–µ—à–µ–Ω–Ω—ã–µ —Ö–æ—Å—Ç—ã (–≤–∞–∂–Ω–æ –¥–ª—è Docker!)
ALLOWED_HOSTS=localhost,127.0.0.1,backend
```

**2. –§—Ä–æ–Ω—Ç–µ–Ω–¥ (`frontend/.env.local`)**
–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `frontend/.env.local` –∏ –≤—Å—Ç–∞–≤—å—Ç–µ —Ç—É–¥–∞:
```dotenv
# –ê–¥—Ä–µ—Å API –¥–ª—è –±—Ä–∞—É–∑–µ—Ä–∞
NEXT_PUBLIC_API_URL=http://localhost:8000/api
# –ù–∞–∑–≤–∞–Ω–∏–µ —Å–∞–π—Ç–∞ (–∑–∞–ø–∞—Å–Ω–æ–π –≤–∞—Ä–∏–∞–Ω—Ç)
NEXT_PUBLIC_SITE_NAME=Shop
```

---

## üöÄ 3. –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞ (–ú–∞–≥–∏—è!)

–¢–µ–ø–µ—Ä—å —Å–∞–º–æ–µ –≥–ª–∞–≤–Ω–æ–µ. –ß—Ç–æ–±—ã –ø–æ–¥–Ω—è—Ç—å –≤–µ—Å—å —Å–∞–π—Ç (–ë—ç–∫–µ–Ω–¥, –§—Ä–æ–Ω—Ç–µ–Ω–¥, –ë–∞–∑—É –¥–∞–Ω–Ω—ã—Ö), –≤—ã–ø–æ–ª–Ω–∏—Ç–µ **–æ–¥–Ω—É** –∫–æ–º–∞–Ω–¥—É –≤ –ø–∞–ø–∫–µ –ø—Ä–æ–µ–∫—Ç–∞:

```bash
docker compose -f docker-compose.dev.yml up -d --build
```
*(–ü—Ä–æ—Å—Ç–æ —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ –∏ –≤—Å—Ç–∞–≤—å—Ç–µ)*

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç?**
*   `-f docker-compose.dev.yml` ‚Äî –≥–æ–≤–æ—Ä–∏—Ç –î–æ–∫–µ—Ä—É: "–ò—Å–ø–æ–ª—å–∑—É–π —Ñ–∞–π–ª –Ω–∞—Å—Ç—Ä–æ–µ–∫ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞" (–≥–¥–µ –≤–∫–ª—é—á–µ–Ω hot-reload).
*   `up` ‚Äî –æ–∑–Ω–∞—á–∞–µ—Ç "–ü–æ–¥–Ω—è—Ç—å" –≤—Å—ë.
*   `-d` ‚Äî –æ–∑–Ω–∞—á–∞–µ—Ç "Detached" (–≤ —Ñ–æ–Ω–µ). –¢–µ—Ä–º–∏–Ω–∞–ª –æ—Å–≤–æ–±–æ–¥–∏—Ç—Å—è, –∞ —Å–∞–π—Ç –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å.
*   `--build` ‚Äî –ø–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã (–Ω—É–∂–Ω–æ, –µ—Å–ª–∏ –≤—ã –º–µ–Ω—è–ª–∏ `requirements.txt` –∏–ª–∏ `package.json`).

–¢–µ–ø–µ—Ä—å –æ—Ç–∫—Ä–æ–π—Ç–µ –±—Ä–∞—É–∑–µ—Ä:
üëâ **–°–∞–π—Ç:** [http://localhost:3000](http://localhost:3000)
üëâ **–ê–¥–º–∏–Ω–∫–∞:** [http://localhost:8000/admin](http://localhost:8000/admin)

---

## üõ† 4. –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ

–ö–æ–≥–¥–∞ –≤—ã –∑–∞–ø—É—Å—Ç–∏–ª–∏ –ø—Ä–æ–µ–∫—Ç –≤ –ø–µ—Ä–≤—ã–π —Ä–∞–∑, –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –ø—É—Å—Ç–∞—è. –ù—É–∂–Ω–æ –µ—ë "–∑–∞—Å–µ–ª–∏—Ç—å".

### 1. –ü—Ä–∏–º–µ–Ω—è–µ–º –º–∏–≥—Ä–∞—Ü–∏–∏ (–°–æ–∑–¥–∞–µ–º —Ç–∞–±–ª–∏—Ü—ã)
```bash
docker compose -f docker-compose.dev.yml exec backend python manage.py migrate
```

### 2. –°–æ–∑–¥–∞–µ–º –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ (–ß—Ç–æ–±—ã –∑–∞–π—Ç–∏ –≤ –∞–¥–º–∏–Ω–∫—É)
```bash
docker compose -f docker-compose.dev.yml exec backend python manage.py createsuperuser
```
*(–í–∞—Å –ø–æ–ø—Ä–æ—Å—è—Ç –≤–≤–µ—Å—Ç–∏ –ª–æ–≥–∏–Ω –∏ –ø–∞—Ä–æ–ª—å. Email –º–æ–∂–Ω–æ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å)*

---

## üìÖ 5. –ï–∂–µ–¥–Ω–µ–≤–Ω–∞—è —Ä–∞–±–æ—Ç–∞

### –ö–∞–∫ –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å?
–ï—Å–ª–∏ –∑–∞–∫–æ–Ω—á–∏–ª–∏ —Ä–∞–±–æ—Ç–∞—Ç—å:
```bash
docker compose -f docker-compose.dev.yml down
```

### –ö–∞–∫ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏? (–ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç)
```bash
# –õ–æ–≥–∏ –≤—Å–µ–≥–æ —Å—Ä–∞–∑—É (Ctrl+C —á—Ç–æ–±—ã –≤—ã–π—Ç–∏)
docker compose -f docker-compose.dev.yml logs -f

# –õ–æ–≥–∏ —Ç–æ–ª—å–∫–æ –±—ç–∫–µ–Ω–¥–∞
docker compose -f docker-compose.dev.yml logs -f backend

# –õ–æ–≥–∏ —Ç–æ–ª—å–∫–æ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞
docker compose -f docker-compose.dev.yml logs -f frontend
```

### üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–æ–≤—ã—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫

**–í–∞–∂–Ω–æ:** –¢–∞–∫ –∫–∞–∫ –º—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º —á–∏—Å—Ç—ã–π –æ–±—Ä–∞–∑ Node.js (–¥–ª—è —Å–∫–æ—Ä–æ—Å—Ç–∏), –ø—Ä–∏ **—Å–∞–º–æ–º –ø–µ—Ä–≤–æ–º** –∑–∞–ø—É—Å–∫–µ –ø–∞–ø–∫–∞ `node_modules` –≤–Ω—É—Ç—Ä–∏ –ø—É—Å—Ç–∞—è.
–ö–æ–º–∞–Ω–¥–∞ `docker compose up` –º–æ–∂–µ—Ç —É–ø–∞—Å—Ç—å —Å –æ—à–∏–±–∫–æ–π, —á—Ç–æ –Ω–µ—Ç –º–æ–¥—É–ª–µ–π.

**–†–µ—à–µ–Ω–∏–µ –¥–ª—è –ø–µ—Ä–≤–æ–≥–æ –∑–∞–ø—É—Å–∫–∞:**
–ü–æ—Å–ª–µ —Ç–æ–≥–æ –∫–∞–∫ –≤—ã –∑–∞–ø—É—Å—Ç–∏–ª–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã (–∏ —É–≤–∏–¥–µ–ª–∏ –æ—à–∏–±–∫—É —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞), –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:
```bash
docker compose -f docker-compose.dev.yml exec frontend npm install
restart docker compose -f docker-compose.dev.yml restart frontend
```
–¢–µ–ø–µ—Ä—å –≤—Å—ë –∑–∞—Ä–∞–±–æ—Ç–∞–µ—Ç. –í –¥–∞–ª—å–Ω–µ–π—à–µ–º —ç—Ç–æ –¥–µ–ª–∞—Ç—å –Ω–µ –Ω—É–∂–Ω–æ.

**–ï—Å–ª–∏ –≤—ã –¥–æ–±–∞–≤–∏–ª–∏ –ø–∞–∫–µ—Ç –≤ `package.json` (Frontend):**
–í—ã–ø–æ–ª–Ω–∏—Ç–µ —Ç—É –∂–µ –∫–æ–º–∞–Ω–¥—É —É—Å—Ç–∞–Ω–æ–≤–∫–∏:
```bash
docker compose -f docker-compose.dev.yml exec frontend npm install
```

**–ï—Å–ª–∏ –≤—ã –¥–æ–±–∞–≤–∏–ª–∏ –ø–∞–∫–µ—Ç –≤ `requirements.txt` (Backend):**
–¢—É—Ç –Ω—É–∂–Ω–æ –ø–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä:
```bash
docker compose -f docker-compose.dev.yml up -d --build
```

---

## ‚ùì 6. –®–ø–∞—Ä–≥–∞–ª–∫–∞ –∏ –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º (FAQ)

### ‚ö†Ô∏è –û—à–∏–±–∫–∏ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ

| –û—à–∏–±–∫–∞ | –ß—Ç–æ —ç—Ç–æ –∑–Ω–∞—á–∏—Ç | –ö–∞–∫ –ø–æ—á–∏–Ω–∏—Ç—å |
| :--- | :--- | :--- |
| `bind: address already in use` | –ü–æ—Ä—Ç (3000 –∏–ª–∏ 8000) –∑–∞–Ω—è—Ç. | –£ –≤–∞—Å —É–∂–µ –∑–∞–ø—É—â–µ–Ω –¥—Ä—É–≥–æ–π —Å–∞–π—Ç –∏–ª–∏ —Ç–æ—Ç –∂–µ –¥–æ–∫–µ—Ä –≤ –¥—Ä—É–≥–æ–º –æ–∫–Ω–µ. **–†–µ—à–µ–Ω–∏–µ:** –û—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –≤—Å—ë (`docker compose down`) –∏–ª–∏ –Ω–∞–π–¥–∏—Ç–µ –∏ —É–±–µ–π—Ç–µ –ø—Ä–æ—Ü–µ—Å—Å. |
| `DeadlineExceeded` / `i/o timeout` | –î–æ–∫–µ—Ä –Ω–µ –º–æ–∂–µ—Ç —Å–∫–∞—á–∞—Ç—å —Ñ–∞–π–ª—ã –∏–∑-–∑–∞ –ø–ª–æ—Ö–æ–≥–æ –∏–Ω–µ—Ç–∞. | –í–∫–ª—é—á–∏—Ç–µ/–í—ã–∫–ª—é—á–∏—Ç–µ VPN. –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ Docker Desktop. |
| `DisallowedHost` | –î–∂–∞–Ω–≥–æ —Ä—É–≥–∞–µ—Ç—Å—è –Ω–∞ "–Ω–µ–∑–Ω–∞–∫–æ–º—ã–π –∞–¥—Ä–µ—Å". | –ú—ã —ç—Ç–æ —É–∂–µ –ø–æ—á–∏–Ω–∏–ª–∏! –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, –µ—Å—Ç—å –ª–∏ –≤ `docker-compose.dev.yml` —Å—Ç—Ä–æ–∫–∞ `ALLOWED_HOSTS_STR=...,backend,...` |
| **Site is unreachable** (–°–∞–π—Ç –Ω–µ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è) | –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –µ—â–µ –≥—Ä—É–∑—è—Ç—Å—è. | –ü–æ–¥–æ–∂–¥–∏—Ç–µ 10-30 —Å–µ–∫—É–Ω–¥. –ü–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫ (npm install) –º–æ–∂–µ—Ç –±—ã—Ç—å –¥–æ–ª–≥–∏–º. –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –ª–æ–≥–∏ (`logs -f`). |
| **–ö–∞—Ä—Ç–∏–Ω–∫–∏ –Ω–µ –≥—Ä—É–∑—è—Ç—Å—è** | –°—Å—ã–ª–∫–∞ –≤–µ–¥–µ—Ç –Ω–∞ `http://backend:8000` | –ë—Ä–∞—É–∑–µ—Ä –Ω–µ –∑–Ω–∞–µ—Ç —á—Ç–æ —Ç–∞–∫–æ–µ `backend`. –ú—ã —ç—Ç–æ —Ç–æ–∂–µ –ø–æ—á–∏–Ω–∏–ª–∏ –∞–≤—Ç–æ-–∑–∞–º–µ–Ω–æ–π. –ù–æ –µ—Å–ª–∏ –≤—Å–ø–ª—ã–≤–µ—Ç ‚Äî –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞. |

### ü§ì –ù–µ–º–Ω–æ–≥–æ —Ç–µ–æ—Ä–∏–∏ (–ß—Ç–æ —ç—Ç–æ –∑–∞ —Å–ª–æ–≤–∞?)

*   **–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä (Container):** –≠—Ç–æ –∫–∞–∫ "–ª–µ–≥–∫–∞—è –≤–∏—Ä—Ç—É–∞–ª–∫–∞". –í –æ–¥–Ω–æ–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ –∂–∏–≤–µ—Ç Python, –≤ –¥—Ä—É–≥–æ–º Node.js, –≤ —Ç—Ä–µ—Ç—å–µ–º –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö. –û–Ω–∏ –Ω–µ –º—É—Å–æ—Ä—è—Ç –≤ –≤–∞—à–µ–π –æ—Å–Ω–æ–≤–Ω–æ–π —Å–∏—Å—Ç–µ–º–µ.
*   **–û–±—Ä–∞–∑ (Image):** –≠—Ç–æ "—Å–ª–µ–ø–æ–∫" —Å–∏—Å—Ç–µ–º—ã, –∏–∑ –∫–æ—Ç–æ—Ä–æ–≥–æ —Å–æ–∑–¥–∞–µ—Ç—Å—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä. –ö–∞–∫ —Ñ–∞–π–ª —É—Å—Ç–∞–Ω–æ–≤–∫–∏ Windows.
*   **Volume (–¢–æ–º):** –ü–∞–ø–∫–∞ –Ω–∞ –≤–∞—à–µ–º –¥–∏—Å–∫–µ, –∫–æ—Ç–æ—Ä–∞—è "–ø—Ä–æ–∫–∏–Ω—É—Ç–∞" –≤–Ω—É—Ç—Ä—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞. –ë–ª–∞–≥–æ–¥–∞—Ä—è —ç—Ç–æ–º—É, –∫–æ–≥–¥–∞ –≤—ã –º–µ–Ω—è–µ—Ç–µ –∫–æ–¥ –≤ WebStorm/VSCode, –æ–Ω —Å—Ä–∞–∑—É –º–µ–Ω—è–µ—Ç—Å—è –≤–Ω—É—Ç—Ä–∏ –î–æ–∫–µ—Ä–∞ (Hot Reload).
*   **Network (–°–µ—Ç—å):** –í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π WiFi, –ø–æ –∫–æ—Ç–æ—Ä–æ–º—É –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –æ–±—â–∞—é—Ç—Å—è –¥—Ä—É–≥ —Å –¥—Ä—É–≥–æ–º. –§—Ä–æ–Ω—Ç–µ–Ω–¥ –≤–∏–¥–∏—Ç –±—ç–∫–µ–Ω–¥ –ø–æ –∏–º–µ–Ω–∏ `http://backend:8000`.

---
**–ï—Å—Ç—å –≤–æ–ø—Ä–æ—Å—ã?** –ü–∏—à–∏—Ç–µ –≤ —á–∞—Ç –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –∏–ª–∏ —Å–æ–∑–¥–∞–≤–∞–π—Ç–µ Issue! üöÄ
